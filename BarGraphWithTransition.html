<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>D3 - BarGraph with Transition</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
  <svg width="500" height="500"></svg>
  <script>
    const sampleData1 = [100, 10, 30, 50, 10, 70, 200, 90];
    const sampleData2 = [110, 50, 20, 30, 50, 90, 120, 70];
    const svg = d3.select('svg');

    sampleData1.forEach((data, index) => {
      svg.append('rect')
        .attr('id', `bar${index}`)
        .attr('height', data)
        .attr('width', 30)
        .attr('x', 40 * index)
        .attr('y', 300 - data)
        .transition()
        .duration(3000)
        .ease(d3.easeLinear)
        .style('fill', 'red')
        .attr('height', sampleData2[index])
        .attr('y', 300 - sampleData2[index])
    })

    d3.select('#bar0')
      .transition()
      .duration(3000)
      .ease(d3.easeLinear)
      .style('fill', 'blue')
      .delay(3000)
  </script>
</body>